{
  "title": "CaspianSchema",
  "description": "This is the Caspian meta-schema",
  "type": "object",
  "properties": {
    "model": {
      "title": "Model",
      "anyOf": [
        {
          "$ref": "#/definitions/Tabular"
        },
        {
          "$ref": "#/definitions/Relational"
        },
        {
          "$ref": "#/definitions/Graph"
        },
        {
          "$ref": "#/definitions/Nested"
        }
      ]
    }
  },
  "required": [
    "model"
  ],
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "definitions": {
    "TableData": {
      "title": "TableData",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name"
      ]
    },
    "FieldNames": {
      "title": "FieldNames",
      "type": "object",
      "properties": {
        "rawname": {
          "title": "Rawname",
          "type": "string"
        },
        "displayname": {
          "title": "Displayname",
          "type": "string"
        },
        "descriptionshort": {
          "title": "Descriptionshort",
          "type": "string"
        },
        "descriptionlong": {
          "title": "Descriptionlong",
          "type": "string"
        }
      },
      "required": [
        "rawname"
      ]
    },
    "FieldTypes": {
      "title": "FieldTypes",
      "type": "object",
      "properties": {
        "ftype": {
          "title": "Ftype",
          "type": "string"
        },
        "logicaltype": {
          "title": "Logicaltype",
          "type": "string"
        },
        "arrowtype": {
          "title": "Arrowtype",
          "type": "string"
        },
        "representation": {
          "title": "Representation",
          "type": "string"
        },
        "units": {
          "title": "Units",
          "type": "string"
        }
      },
      "required": [
        "ftype"
      ]
    },
    "FieldFlags": {
      "title": "FieldFlags",
      "type": "object",
      "properties": {
        "isRaw": {
          "title": "Israw",
          "type": "boolean"
        },
        "isPII": {
          "title": "Ispii",
          "type": "boolean"
        },
        "isUnique": {
          "title": "Isunique",
          "type": "boolean"
        },
        "isStandardised": {
          "title": "Isstandardised",
          "type": "boolean"
        },
        "isTransformed": {
          "title": "Istransformed",
          "type": "boolean"
        },
        "inInherited": {
          "title": "Ininherited",
          "type": "boolean"
        },
        "isJoin": {
          "title": "Isjoin",
          "type": "boolean"
        },
        "isKey": {
          "title": "Iskey",
          "type": "boolean"
        },
        "isSynthetic": {
          "title": "Issynthetic",
          "type": "boolean"
        },
        "isBackfilled": {
          "title": "Isbackfilled",
          "type": "boolean"
        },
        "isCategorical": {
          "title": "Iscategorical",
          "type": "boolean"
        },
        "isNumeric": {
          "title": "Isnumeric",
          "type": "boolean"
        }
      }
    },
    "Constraint": {
      "title": "Constraint",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "values": {
          "title": "Values",
          "type": "object"
        },
        "enabled": {
          "title": "Enabled",
          "type": "boolean"
        }
      },
      "required": [
        "name",
        "values",
        "enabled"
      ]
    },
    "DataField": {
      "title": "DataField",
      "type": "object",
      "properties": {
        "names": {
          "$ref": "#/definitions/FieldNames"
        },
        "types": {
          "$ref": "#/definitions/FieldTypes"
        },
        "flags": {
          "$ref": "#/definitions/FieldFlags"
        },
        "constraints": {
          "title": "Constraints",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Constraint"
          }
        }
      },
      "required": [
        "names",
        "types"
      ]
    },
    "Tabular": {
      "title": "Tabular",
      "type": "object",
      "properties": {
        "tabledata": {
          "$ref": "#/definitions/TableData"
        },
        "fields": {
          "title": "Fields",
          "type": "array",
          "items": {
            "$ref": "#/definitions/DataField"
          }
        }
      },
      "required": [
        "fields"
      ]
    },
    "Relational": {
      "title": "Relational",
      "type": "object",
      "properties": {
        "relational": {
          "title": "Relational",
          "type": "array",
          "items": {
            "$ref": "#/definitions/Tabular"
          }
        }
      },
      "required": [
        "relational"
      ]
    },
    "Graph": {
      "title": "Graph",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name"
      ]
    },
    "Nested": {
      "title": "Nested",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        }
      }
    }
  }
}